body {
	margin          : 0;
	background-color: rgb(237, 242, 247);
}

svg-card,
.svg-card {
	contain: strict;
	box-shadow:
		0 0.8px 0.7px -6px rgba(0, 0, 0, 0.04),
		0 1.9px 1.7px -6px rgba(0, 0, 0, 0.053),
		0 3.6px 3.1px -6px rgba(0, 0, 0, 0.06),
		0 6.5px 5.6px -6px rgba(0, 0, 0, 0.067),
		0 12.1px 10.4px -6px rgba(0, 0, 0, 0.077),
		0 29px 25px -6px rgba(0, 0, 0, 0.11),
		0 0 0 1px #00000020;
	background-color: white;

	span {
		display: none;
	}

	&:not(.web-component) * {}

	&:not(:defined) {}

	svg {
		max-width : 100%;
		max-height: 100%;
		position  : absolute;
		left      : 50%;
		top       : 50%;
		transform : translate3d(-50%, -50%, 0);
		overflow  : visible;

		[stroke="#000000"] {}

		&[slot="erase"] {
			pointer-events: none;

			path {
				opacity: 0;
			}
		}

		text,
		tspan {
			font-family: 'Permanent Marker';
			transition : fill .5s;
		}

		[data-type="text"] {
			opacity   : 0;
			transition: opacity .5s;
		}
	}

	&:not(.font-loaded) {

		text,
		tspan {
			display: none;
		}
	}

	&.sized svg {
		// animation: .5s fadein ease;
	}

	&:not(.sized) svg {
		opacity: 0;
	}

	@keyframes fadein {
		from {
			opacity: 0;
		}

		to {
			opacity: 1;
		}
	}

	path,
	line,
	polyline {
		will-change: stroke-dashoffset, stroke-dasharray;
	}
}


// showing text only when appropriate
body.svg-defs svg-card.alphabetized {
	[data-type="text"] {
		opacity: 1;
	}

	text,
	tspan {
		fill: rgba(0, 0, 0, 0)
	}
}


#dom-tricks {
	contain : strict;
	position: absolute;
	left    : -100%;
	top     : -100%;

	// off-screen pseudo svg-card for DOM manipulation
	.svg-card {
		width : 300px;
		height: 300px;

		text,
		tspan {
			display: block !important;
		}
	}
}


grid-layout {
	--margin       : 10px;
	display        : grid;
	grid-gap       : var(--margin);
	justify-content: space-around;
	margin         : var(--margin);

	// cells of equal width
	--count              : 3;
	grid-template-columns: repeat(auto-fill, minmax(auto, calc(calc(100% - calc(var(--margin) * calc(var(--count) - 1))) / var(--count))));
	grid-auto-rows       : 1fr;

	// auto-layout around cells bigger than 1x1
	grid-auto-flow: dense;

	// hack for square cells
	&::before {
		content       : '';
		width         : 0;
		padding-bottom: 100%;
		grid-row      : 1 / 1;
		grid-column   : 1 / 1;
	}

	// override hack so that 1st cell isn't blank
	*:first-child {
		grid-column: 1 / 1 / span 1;
		grid-row   : 1 / 1 / span 1;
	}

	svg-card,
	.svg-card {
		transform-origin   : top left;
		backface-visibility: hidden;
		perspective        : 1000;
		will-change        : transform;

		&[data-last-played=true] {
			z-index: 1;
		}

		&[data-top=true] {
			position: fixed;
			left    : var(--margin);
			top     : var(--margin);
			height  : calc(100vh - 2 * var(--margin));
			width   : calc(100vw - 2 * var(--margin));
		}
	}

	.svg-card {
		box-shadow: none;
		background-color: transparent;
	}
}